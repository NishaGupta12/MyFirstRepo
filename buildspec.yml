version: 0.2
env:
  variables:
     dev_env: "QA"

  parameter-store:
     JDBClass: "/jdbc/default/driverClassName"
     JDBCUrl: "/jdbc/default/url"
     JDBCUser: "/jdbc/default/username"
     JDBCPassword: "/jdbc/default/password"
     
  secrets-manager:
    HTS_MHSReg: $Environment/rainbowcred:hts.myhearst.services.region
    HTS_MHSEnv: $Environment/rainbowcred:hts.myhearst.services.environment
phases:  
  pre_build:
    commands:
        - echo "My env is $Environment"
        - echo Nothing to do in the pre_build phase...
    
  build:
    commands:
       - echo Build started on 'date'


     
  post_build:
    commands:
        - |
        if [[ "$Environment" = "QA" ]]; then
            echo "if condition working"
        fi   

    finally:
      - echo This is the finally block execution!
artifacts:
  files:
    - 'Artifacts/*'
    - appspec.yml
    - 'deploy-scripts/*'
